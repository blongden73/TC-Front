<template>
    <div>
        <section class="mod-content-one">

            <div class="wrapper-intro" v-if="postContent.blog_category.slug !== 'weekly-edit'">
                <div class="container disabled bg-img" :style="`background-image:url(${getBaseUrl}${postContent.cover_img.url});`">

                    <div class="img-mob">
                        <img :src="`${getBaseUrl}${postContent.cover_img.url}`" alt="" :width="postContent.cover_img.width" :height="postContent.cover_img.height">
                    </div>

                    <div class="wrapper-content bottom_left" :style="'background-color:'+postContent.bgcolor+';color:'+postContent.fontcolor">
                        <h1 class="logo-cat logo-cat-text" v-html="postContent.blog_category.name"></h1>
                        <h2 class="title title-md" v-html="postContent.title"></h2>
<!--                        <div class="credits" v-html="postContent.credits"></div>-->
                        <div class="summary" v-html="postContent.summary"></div>
                        <div class="date">{{ postContent.date | moment("Do MMMM YYYY") }}</div>
                    </div>
                </div>
            </div>

            <div class="wrapper-intro-alt" v-if="postContent.blog_category.slug == 'weekly-edit'">
                <div class="container disabled" :style="'background-color:'+postContent.bgcolor+';color:'+postContent.fontcolor">
                    <div class="container sm has-padding-both">
                        <h1 class="logo-cat" :class="'logo-cat-'+postContent.blog_category.slug">
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 454.9 104.3" style="enable-background:new 0 0 454.9 104.3;" xml:space="preserve" v-if="postContent.blog_category.slug == 'weekly-edit'">
                                        <g>
                                            <g>
                                                <path :style="'fill:'+postContent.fontcolor" class="st0" d="M61,10.2L38.7,83.4c-1.4,4.6-2.1,7.5-2.1,8.6c0,2.4,1.1,4.2,3.2,5.3s4.5,1.6,7.1,1.6h2.6l-1,3.3H6.3l1-3.3
                                                    h2.2c3,0,5.6-0.5,7.8-1.6c2.2-1,3.7-2.3,4.6-3.8c0.9-1.5,2.1-4.8,3.7-10L48.2,9.3c-8-0.7-14.8-1.1-20.5-1.1
                                                    c-6.1,0-10.7,0.5-13.7,1.5c-3,1-4.6,2.5-4.6,4.6c0,0.8,0.3,1.9,0.8,3.3c0.5,1.4,0.7,2.4,0.7,3c0,1.3-0.5,2.4-1.4,3.4
                                                    c-0.9,0.9-2.2,1.4-3.7,1.4c-1.9,0-3.3-0.7-4.4-2.2c-1-1.5-1.6-3.1-1.6-4.9c0-3.9,2.2-7.2,6.6-10.1c4.4-2.9,12.1-4.3,23.1-4.3
                                                    c5.7,0,16.4,0.7,32.2,2c11.3,1,19.8,1.5,25.5,1.5c5.4,0,8.4-1.4,9-4.3c0.4-2,1.4-3,3-3c2.3,0,3.5,1.2,3.5,3.7
                                                    c0,5.3-5.6,7.9-16.8,7.9C80.8,11.6,72.4,11.1,61,10.2z"/>
                                                <path :style="'fill:'+postContent.fontcolor" class="st0" d="M90.4,103.4h-8.6l25.5-83.8c1.5-4.7,2.2-7.5,2.2-8.3c0-1.1-0.3-1.9-1-2.4c-0.7-0.5-2.3-0.7-4.8-0.7h-2.3
                                                    l0.9-3c7.7-0.2,13.4-1.1,17.1-2.6h1.8l-16.5,54.1c8.7-10.5,16.6-15.8,23.8-15.8c3.2,0,5.7,0.7,7.3,2c1.6,1.4,2.4,3.4,2.4,6.2
                                                    c0,2.2-1.4,7.4-4.3,15.5l-6.4,18.2c-2.5,7.1-3.7,11.2-3.7,12.3c0,1.2,0.2,2.1,0.7,2.8c0.5,0.6,1.2,0.9,2.2,0.9
                                                    c1.7,0,3.7-1,5.9-3.1c2.2-2.1,4-4.7,5.6-7.8h3.6c-2.5,4.9-5.4,8.9-8.8,11.9c-3.4,3-6.6,4.5-9.6,4.5c-2.2,0-4.1-0.8-5.7-2.5
                                                    s-2.4-3.8-2.4-6.5c0-2.9,1.4-8.1,4.1-15.4l6.2-16.8c2.9-7.7,4.3-12.5,4.3-14.5c0-1.2-0.3-2.1-1-2.7c-0.7-0.6-1.7-0.9-3-0.9
                                                    c-2.2,0-4.7,0.9-7.7,2.6c-3,1.8-6,4.7-9.2,8.8c-3.2,4.1-5.5,8-7,11.6c-1.5,3.6-3.4,9.4-5.8,17.3L90.4,103.4z"/>
                                                <path :style="'fill:'+postContent.fontcolor" class="st0" d="M180.1,83.8h3.5c-6.1,13.7-14,20.5-23.6,20.5c-4,0-7.2-1.4-9.7-4.2c-2.5-2.8-3.7-6.5-3.7-11.3
                                                    c0-6,1.6-12.8,4.8-20.3c3.2-7.5,7.8-14,13.7-19.5c5.9-5.5,11.1-8.2,15.5-8.2c2.7,0,4.8,0.9,6.2,2.6c1.4,1.7,2.1,3.9,2.1,6.4
                                                    c0,5.2-2.6,10.2-7.8,15.1c-5.2,4.8-13.1,9.4-23.5,13.9c-1.4,4.2-2,8.2-2,12c0,3.1,0.6,5.4,1.8,7c1.2,1.5,3,2.3,5.4,2.3
                                                    C169.2,100,175.1,94.6,180.1,83.8z M158.6,75.1c6.2-2.8,11.8-6.7,16.8-11.6c5-4.9,7.5-9.4,7.5-13.4c0-1.8-0.4-3.2-1.1-4.1
                                                    c-0.8-0.9-1.9-1.3-3.4-1.3c-2.9,0-6.3,2.8-10.3,8.5C164.2,58.7,161,66,158.6,75.1z"/>
                                                <path :style="'fill:'+postContent.fontcolor" class="st0" d="M310.8,77.4h3.2l-7.6,24.9h-82.3l1-3.3h2.1c3,0,5.5-0.5,7.6-1.6c2.1-1.1,3.5-2.3,4.2-3.8
                                                    c0.8-1.4,1.9-4.6,3.3-9.4l19-62.6c1.5-4.8,2.2-7.9,2.2-9.1c0-3.4-3.1-5.2-9.4-5.2h-2.9l1-3.3h70.1l0.4,22.2h-3
                                                    c-1.5-5.8-3.4-10.1-5.7-12.9c-2.4-2.8-4.8-4.5-7.3-5.1c-2.5-0.6-7.6-0.8-15.2-0.8h-12.8l-12.7,42.1h7.1c6.8,0,11.9-0.9,15.4-2.8
                                                    s6.7-6.3,9.7-13.2h3.3l-11.7,38.6h-3.3c0.5-2.6,0.8-5,0.8-7.4c0-4-0.5-6.7-1.5-8.3c-1-1.5-2.3-2.5-4-2.9c-1.6-0.4-4.6-0.6-8.8-0.6
                                                    H265l-9.2,30.5c-1.5,4.9-2.2,7.8-2.2,8.8c0,2.6,1.1,4.4,3.4,5.5c2.2,1.1,6.2,1.6,11.7,1.6h5.7c10,0,17.6-1.8,23-5.3
                                                    C302.8,90.3,307.3,84.8,310.8,77.4z"/>
                                                <path :style="'fill:'+postContent.fontcolor" class="st0" d="M372.5,89.1h3.6c-2.2,4-4.9,7.5-8.2,10.6c-3.3,3.1-6.3,4.6-9.1,4.6c-2.6,0-4.5-0.8-5.8-2.3
                                                    c-1.3-1.5-2-3.8-2-6.9c0-1.4,0.1-2.7,0.4-3.8c-6.9,8.7-13.2,13.1-19.1,13.1c-3.3,0-6.1-1.3-8.4-4c-2.3-2.7-3.5-6.5-3.5-11.5
                                                    c0-7,1.9-14.5,5.8-22.6c3.9-8.1,8.7-14.3,14.4-18.7c5.7-4.4,10.7-6.6,14.9-6.6c2.2,0,4,0.5,5.5,1.5s2.7,2.5,3.7,4.6l8.8-29.2
                                                    c1.1-3.5,1.6-5.6,1.6-6.3c0-1.2-0.3-2-1-2.5c-0.7-0.5-2.3-0.7-4.8-0.7h-2l0.9-3c7,0,12.6-0.9,16.8-2.6h1.8l-23.2,76.4
                                                    c-2.9,9.4-4.3,15-4.3,16.7c0,1.2,0.2,2.1,0.7,2.7c0.5,0.6,1.1,0.9,2,0.9c1.5,0,3.1-0.8,4.8-2.5C368.5,95,370.5,92.5,372.5,89.1z
                                                     M328.7,92.1c0,2.7,0.5,4.8,1.4,6.1c0.9,1.4,2.3,2.1,4.2,2.1c3.2,0,7-2.3,11.2-6.8c4.3-4.5,8.2-12,11.8-22.3
                                                    c3.6-10.4,5.4-16.9,5.4-19.7c0-1.8-0.6-3.4-1.8-4.9c-1.2-1.5-2.8-2.2-4.8-2.2c-3.1,0-6.4,1.8-9.9,5.5c-3.5,3.7-7.2,10.1-11.3,19.2
                                                    C330.8,78.3,328.7,86,328.7,92.1z"/>
                                                <path :style="'fill:'+postContent.fontcolor" class="st0" d="M409.7,86.4h3.5c-2.3,4.7-5.2,8.8-8.9,12.5c-3.7,3.6-7.2,5.4-10.6,5.4c-2.3,0-4.3-0.8-6-2.4
                                                    c-1.7-1.6-2.6-4-2.6-7.1c0-2.6,1.4-7.5,4.1-14.7l8.3-22.1c1.9-5.2,2.9-8.3,2.9-9.4c0-1-0.2-1.7-0.7-2.2c-0.5-0.5-1.1-0.7-2.1-0.7
                                                    c-1.9,0-4.1,1.5-6.7,4.4c-2.6,2.9-4.4,5.6-5.5,7.9h-3.5c2.7-5.3,5.7-9.4,9.1-12.5c3.4-3,6.6-4.6,9.5-4.6c2.3,0,4.1,0.8,5.6,2.3
                                                    c1.5,1.5,2.2,3.6,2.2,6.1c0,2.6-1.3,7.3-3.8,14.1l-7,18.9c-2.6,6.8-3.8,11.1-3.8,12.8c0,1.4,0.3,2.5,0.8,3.2
                                                    c0.6,0.7,1.4,1.1,2.4,1.1C400.7,99.2,404.9,94.9,409.7,86.4z M404.4,8.8c0-1.7,0.6-3.2,1.8-4.5c1.2-1.2,2.7-1.8,4.5-1.8
                                                    s3.2,0.6,4.5,1.8c1.2,1.2,1.8,2.7,1.8,4.5c0,1.7-0.6,3.2-1.8,4.5c-1.2,1.3-2.7,1.9-4.5,1.9c-1.8,0-3.3-0.6-4.5-1.9
                                                    C405,12,404.4,10.5,404.4,8.8z"/>
                                                <path :style="'fill:'+postContent.fontcolor" class="st0" d="M454.9,42.9l-1,3.2H443l-9.6,31.7c-3.2,10.4-4.8,16.4-4.8,18.1c0,1.2,0.3,2,0.8,2.6s1.2,0.9,2.2,0.9
                                                    c1.7,0,4-1.6,6.8-4.9c2.8-3.3,5.3-7.4,7.5-12.4h3.2c-3,7.2-6.3,12.7-10.1,16.5c-3.8,3.8-7.3,5.7-10.4,5.7c-2.5,0-4.4-0.9-5.9-2.6
                                                    c-1.5-1.7-2.2-3.9-2.2-6.6c0-2.3,1.5-8.3,4.5-18.1l9.4-30.9h-10l1-3.2h9.9l6.7-22h8.7l-6.7,22H454.9z"/>
                                            </g>
                                        </g>
                                    </svg>
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 513.8 51.2" style="enable-background:new 0 0 513.8 51.2;" xml:space="preserve" v-if="postContent.blog_category.slug == 'liquid'">
                                    <g>
                                        <g>
                                            <path :style="'fill:'+postContent.fontcolor" d="M16.7,1c2,0,3.9,0.2,5.6,0.6c1.7,0.4,3.2,1.1,4.5,2.1s2.2,2.3,2.9,3.9c0.7,1.6,1,3.6,1,6c0,2.7-0.6,5-1.9,6.9
                                                c-1.2,1.9-3.1,3.2-5.6,3.9v0.1c2.8,0.4,5,1.5,6.6,3.5c1.6,2,2.4,4.6,2.4,8c0,1.9-0.3,3.8-0.8,5.5c-0.5,1.8-1.4,3.3-2.6,4.6
                                                c-1.2,1.3-2.8,2.4-4.8,3.2c-2,0.8-4.4,1.2-7.3,1.2H0V1H16.7z M12.8,21.3c2.8,0,4.8-0.5,6.1-1.5c1.3-1,1.9-2.7,1.9-5s-0.6-4-1.7-5
                                                c-1.2-1-3-1.5-5.5-1.5H10v13H12.8z M13.9,43.1c2.4,0,4.3-0.5,5.8-1.6c1.5-1.1,2.2-3,2.2-5.9c0-1.4-0.2-2.6-0.6-3.6
                                                c-0.4-0.9-0.9-1.7-1.6-2.3c-0.7-0.6-1.5-1-2.4-1.2c-0.9-0.2-1.9-0.3-3-0.3H10v14.9H13.9z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M38.5,1h10v41.3h17.7v8.2H38.5V1z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M70.1,15.3c0.3-3.2,1.1-5.9,2.3-8.1c1.2-2.3,2.9-4,5.1-5.3C79.7,0.6,82.6,0,86.4,0s6.7,0.6,8.9,1.9
                                                c2.2,1.3,3.9,3,5.1,5.3c1.2,2.3,1.9,5,2.3,8.1c0.3,3.2,0.5,6.6,0.5,10.4c0,3.8-0.2,7.2-0.5,10.4c-0.3,3.1-1.1,5.8-2.3,8.1
                                                s-2.9,4-5.1,5.2c-2.2,1.2-5.2,1.8-8.9,1.8s-6.7-0.6-8.9-1.8c-2.2-1.2-3.9-2.9-5.1-5.2s-1.9-5-2.3-8.1c-0.3-3.1-0.5-6.6-0.5-10.4
                                                C69.5,22,69.7,18.5,70.1,15.3z M79.8,34.2c0.2,2.3,0.5,4.2,1,5.7c0.5,1.5,1.2,2.5,2.1,3.2c0.9,0.7,2.1,1,3.6,1
                                                c1.5,0,2.7-0.3,3.6-1c0.9-0.7,1.6-1.7,2.1-3.2c0.5-1.5,0.8-3.3,1-5.7c0.2-2.3,0.2-5.2,0.2-8.5s-0.1-6.1-0.2-8.5
                                                c-0.2-2.3-0.5-4.2-1-5.7c-0.5-1.5-1.2-2.6-2.1-3.2c-0.9-0.7-2.1-1-3.6-1c-1.5,0-2.7,0.3-3.6,1c-0.9,0.7-1.6,1.7-2.1,3.2
                                                c-0.5,1.5-0.8,3.4-1,5.7c-0.2,2.3-0.2,5.1-0.2,8.5S79.6,31.9,79.8,34.2z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M115.7,1l5.5,36.6h0.1L127.2,1h9.6l5.8,36.6h0.1L148.2,1h9.6l-9,49.5h-11.2L132,14.5h-0.1l-5.5,35.9h-11.2
                                                l-9-49.5H115.7z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M204.7,9.1h-10.8v41.3h-10V9.1h-10.8V1h31.6V9.1z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M219,1v18.9h11.6V1h10v49.5h-10v-22H219v22h-10V1H219z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M275.2,9.1h-17.7v11.6h16.6V29h-16.6v13.3h18.4v8.2h-28.3V1h27.6V9.1z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M314.2,1c2,0,3.9,0.2,5.6,0.6c1.7,0.4,3.2,1.1,4.5,2.1s2.2,2.3,2.9,3.9c0.7,1.6,1,3.6,1,6
                                                c0,2.7-0.6,5-1.9,6.9c-1.2,1.9-3.1,3.2-5.6,3.9v0.1c2.8,0.4,5,1.5,6.6,3.5c1.6,2,2.4,4.6,2.4,8c0,1.9-0.3,3.8-0.8,5.5
                                                s-1.4,3.3-2.6,4.6s-2.8,2.4-4.8,3.2c-2,0.8-4.4,1.2-7.3,1.2h-16.8V1H314.2z M310.3,21.3c2.8,0,4.8-0.5,6.1-1.5
                                                c1.3-1,1.9-2.7,1.9-5s-0.6-4-1.7-5s-3-1.5-5.5-1.5h-3.6v13H310.3z M311.3,43.1c2.4,0,4.3-0.5,5.8-1.6c1.5-1.1,2.2-3,2.2-5.9
                                                c0-1.4-0.2-2.6-0.6-3.6c-0.4-0.9-0.9-1.7-1.6-2.3c-0.7-0.6-1.5-1-2.4-1.2c-0.9-0.2-1.9-0.3-3-0.3h-4.3v14.9H311.3z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M345.4,35.5c0,1.2,0.1,2.4,0.2,3.4c0.2,1,0.5,1.9,0.9,2.7s1,1.4,1.8,1.8c0.8,0.4,1.7,0.7,2.9,0.7
                                                c1.2,0,2.2-0.2,2.9-0.7c0.7-0.4,1.3-1,1.8-1.8c0.4-0.8,0.7-1.7,0.9-2.7s0.2-2.2,0.2-3.4V1h10v34.5c0,3.1-0.4,5.7-1.3,7.8
                                                c-0.9,2.1-2.1,3.7-3.5,4.9c-1.5,1.2-3.2,2-5.1,2.4c-1.9,0.4-3.9,0.6-5.9,0.6c-2,0-4-0.2-5.9-0.6c-1.9-0.4-3.6-1.1-5.1-2.3
                                                c-1.5-1.1-2.7-2.7-3.5-4.8c-0.9-2.1-1.3-4.8-1.3-8.1V1h10V35.5z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M390.1,1c3.5,0,6.3,0.6,8.4,1.7c2.1,1.1,3.8,2.7,5,4.8c1.2,2.1,2,4.6,2.4,7.6c0.4,3,0.6,6.3,0.6,9.9
                                                c0,4.3-0.3,8.1-0.8,11.3c-0.5,3.2-1.4,5.9-2.7,7.9c-1.3,2.1-3,3.6-5.2,4.6c-2.2,1-4.9,1.5-8.2,1.5h-15.7V1H390.1z M388.2,43.1
                                                c1.8,0,3.2-0.3,4.2-0.9c1.1-0.6,1.9-1.6,2.5-3c0.6-1.4,1-3.2,1.2-5.5c0.2-2.3,0.3-5.1,0.3-8.5c0-2.8-0.1-5.3-0.3-7.4
                                                c-0.2-2.1-0.6-3.9-1.1-5.3c-0.6-1.4-1.4-2.5-2.6-3.2c-1.1-0.7-2.6-1.1-4.5-1.1h-4.2v34.8H388.2z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M434.7,12.8c-0.2-1-0.5-1.9-1-2.7c-0.5-0.8-1.1-1.5-1.8-2c-0.7-0.5-1.6-0.8-2.6-0.8c-2.4,0-4.1,1.3-5.2,4
                                                c-1.1,2.7-1.6,7.1-1.6,13.3c0,3,0.1,5.6,0.3,8c0.2,2.4,0.5,4.4,1,6.1c0.5,1.7,1.2,3,2.1,3.9c0.9,0.9,2.1,1.4,3.5,1.4
                                                c0.6,0,1.3-0.2,2-0.5c0.7-0.3,1.4-0.8,2-1.5c0.6-0.6,1.1-1.5,1.6-2.5c0.4-1,0.6-2.2,0.6-3.5v-5.1H429v-7.3h16.1v26.7h-7.3v-4.6
                                                h-0.1c-1.2,1.9-2.6,3.3-4.3,4.1c-1.7,0.8-3.7,1.2-6.1,1.2c-3,0-5.5-0.5-7.4-1.6c-1.9-1.1-3.4-2.7-4.5-4.9c-1.1-2.2-1.8-5-2.2-8.2
                                                c-0.4-3.3-0.6-7-0.6-11.3c0-4.2,0.3-7.8,0.8-10.9c0.5-3.1,1.4-5.8,2.7-7.9c1.3-2.1,3-3.7,5.1-4.7c2.1-1.1,4.8-1.6,8-1.6
                                                c5.4,0,9.4,1.4,11.8,4.1c2.4,2.7,3.6,6.6,3.6,11.6H435C435,14.7,434.9,13.8,434.7,12.8z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M479.2,9.1h-17.7v11.6h16.6V29h-16.6v13.3h18.4v8.2h-28.3V1h27.6V9.1z"/>
                                            <path :style="'fill:'+postContent.fontcolor" d="M513.8,9.1H503v41.3h-10V9.1h-10.8V1h31.6V9.1z"/>
                                        </g>
                                    </g>
                                </svg>
                        </h1>
                        <h1 class="title title-lg" v-html="postContent.title"></h1>
                        <div class="date">{{ postContent.date | moment("Do MMMM YYYY") }}</div>
                        <div class="credits" v-html="postContent.credits"></div>
                        <div class="summary" v-html="postContent.summary"></div>
                    </div>
                </div>
            </div>

            <div class="wrapper-block" v-for="(itemBlock, index) in postContent.content_blocks" :key="itemBlock.id">
                <div class="container disabled" :style="'background-color:'+itemBlock.blk_bgcolor">
                    <div class="container sm has-padding-both">
                        <div class="text long" v-html="contentTextURL(index)" :class="{'is-white': itemBlock.blk_text_white}"></div>
                    </div>
                </div>
            </div>

        </section>
        <TheFooter/>
    </div>
</template>

<script>
import moment from 'vue-moment';

export default {
    head () {
        return {
            title: this.postContent.page_info.page_title ? this.postContent.page_info.page_title : this.postContent.title,
            meta: [
                { hid: 'description', name: 'description', content: this.postContent.page_info.page_description },
                { hid: 'keywords', name: 'kerwords', content: this.postContent.page_info.page_keywords },
            ],
            bodyAttrs: {
                class: this.isTouch ? 'mobile liquid article' : 'desk liquid article',
            }
        }
    },

    async asyncData({ params, $axios }) {
        const postContent = await $axios.$get(`${process.env.baseUrl}/blog-posts/${params.slug}`)
        return { postContent }
    },

    methods: {
        contentTextURL(i) {
            return this.postContent.content_blocks[i].blk_content.replace(/\/uploads\//g, process.env.baseUrl + '/uploads/');
        }
    },

    computed: {
        getBaseUrl() {
            return process.env.baseUrl;
        },
    },

}
</script>

<style lang="scss">
    @import '../../../assets/styles/main.scss';
    @import '../../../assets/styles/sections/liquid.scss';
</style>
